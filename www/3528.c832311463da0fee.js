"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3528],{3528:(fe,L,l)=>{l.d(L,{BU:()=>ce});var u=l(6242),F=l(8645);const S={now:()=>(S.delegate||Date).now(),delegate:void 0};class w extends F.x{constructor(i=1/0,s=1/0,e=S){super(),this._bufferSize=i,this._windowTime=s,this._timestampProvider=e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,s)}next(i){const{isStopped:s,_buffer:e,_infiniteTimeWindow:t,_timestampProvider:r,_windowTime:o}=this;s||(e.push(i),!t&&e.push(r.now()+o)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(i),{_infiniteTimeWindow:e,_buffer:t}=this,r=t.slice();for(let o=0;o<r.length&&!i.closed;o+=e?1:2)i.next(r[o]);return this._checkFinalizedStatuses(i),s}_trimBuffer(){const{_bufferSize:i,_timestampProvider:s,_buffer:e,_infiniteTimeWindow:t}=this,r=(t?1:2)*i;if(i<1/0&&r<e.length&&e.splice(0,e.length-r),!t){const o=s.now();let a=0;for(let p=1;p<e.length&&e[p]<=o;p+=2)a=p;a&&e.splice(0,a+1)}}}var v=l(2438),E=l(5592),N=l(4829);const{isArray:_}=Array;var O=l(8251);function x(...n){return 1===(n=function U(n){return 1===n.length&&_(n[0])?n[0]:n}(n)).length?(0,N.Xf)(n[0]):new E.y(function W(n){return i=>{let s=[];for(let e=0;s&&!i.closed&&e<n.length;e++)s.push((0,N.Xf)(n[e]).subscribe((0,O.x)(i,t=>{if(s){for(let r=0;r<s.length;r++)r!==e&&s[r].unsubscribe();s=null}i.next(t)})))}}(n))}var d=l(8504),c=l(2096),C=l(7394);class K extends C.w0{constructor(i,s){super()}schedule(i,s=0){return this}}const b={setInterval(n,i,...s){const{delegate:e}=b;return null!=e&&e.setInterval?e.setInterval(n,i,...s):setInterval(n,i,...s)},clearInterval(n){const{delegate:i}=b;return((null==i?void 0:i.clearInterval)||clearInterval)(n)},delegate:void 0};var $=l(9039);class y{constructor(i,s=y.now){this.schedulerActionCtor=i,this.now=s}schedule(i,s=0,e){return new this.schedulerActionCtor(this,i).schedule(e,s)}}y.now=S.now;const X=new class Y extends y{constructor(i,s=y.now){super(i,s),this.actions=[],this._active=!1}flush(i){const{actions:s}=this;if(this._active)return void s.push(i);let e;this._active=!0;do{if(e=i.execute(i.state,i.delay))break}while(i=s.shift());if(this._active=!1,e){for(;i=s.shift();)i.unsubscribe();throw e}}}(class J extends K{constructor(i,s){super(i,s),this.scheduler=i,this.work=s,this.pending=!1}schedule(i,s=0){var e;if(this.closed)return this;this.state=i;const t=this.id,r=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(r,t,s)),this.pending=!0,this.delay=s,this.id=null!==(e=this.id)&&void 0!==e?e:this.requestAsyncId(r,this.id,s),this}requestAsyncId(i,s,e=0){return b.setInterval(i.flush.bind(i,this),e)}recycleAsyncId(i,s,e=0){if(null!=e&&this.delay===e&&!1===this.pending)return s;null!=s&&b.clearInterval(s)}execute(i,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const e=this._execute(i,s);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,s){let t,e=!1;try{this.work(i)}catch(r){e=!0,t=r||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),t}unsubscribe(){if(!this.closed){const{id:i,scheduler:s}=this,{actions:e}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,$.P)(e,this),null!=i&&(this.id=this.recycleAsyncId(s,i,null)),this.delay=null,super.unsubscribe()}}});var G=l(9666),f=l(1631),g=l(7398),h=l(1374),Q=l(9360),I=l(9397),H=l(3093),q=l(6306),M=l(6814);const A="indexedDB is not working";class P extends Error{constructor(){super(...arguments),this.message=A}}class te extends Error{constructor(){super(...arguments),this.message="The storage is currently localStorage,\nwhere data must be serialized, and the provided data can't be serialized."}}const z=new u.OlP("localStoragePrefix",{providedIn:"root",factory:()=>""}),R=new u.OlP("localStorageIDBDBName",{providedIn:"root",factory:()=>"ngStorage"}),V=new u.OlP("localStorageIDBDBVersion",{providedIn:"root",factory:()=>1}),j=new u.OlP("localStorageIDBStoreName",{providedIn:"root",factory:()=>"localStorage"}),oe=new u.OlP("localStorageIDBWrap",{providedIn:"root",factory:()=>!0});class k extends Error{constructor(){super(...arguments),this.message="Data stored is not valid against the provided JSON schema.\nCheck your JSON schema, otherwise it means data has been corrupted."}}let B=(()=>{var n;class i{constructor(){this.database=new w(1),this.wrapIndex="value",this.dbName=(0,u.f3M)(R),this.storeName=(0,u.f3M)(j),this.dbVersion=(0,u.f3M)(V),this.noWrap=(0,u.f3M)(oe),this.connect()}get backingStore(){return{database:this.dbName,store:this.storeName,version:this.dbVersion}}get size(){return this.transaction("readonly").pipe((0,f.z)(e=>{const{store:t,events:r}=e,o=t.count();return r.pipe((0,g.U)(()=>o.result))}),(0,h.P)())}get(e){return this.transaction("readonly").pipe((0,f.z)(t=>{const{store:r,events:o}=t,a=r.get(e);return o.pipe((0,g.U)(()=>{if(null!=a.result)return!this.noWrap&&"object"==typeof a.result&&this.wrapIndex in a.result&&null!=a.result[this.wrapIndex]?a.result[this.wrapIndex]:a.result}))}),(0,h.P)())}set(e,t){return void 0===t?this.delete(e):this.transaction("readwrite").pipe((0,f.z)(r=>{const{store:o,events:a}=r;return o.put(this.noWrap?t:{[this.wrapIndex]:t},e),a.pipe((0,g.U)(()=>{}))}),(0,h.P)())}delete(e){return this.transaction("readwrite").pipe((0,f.z)(t=>{const{store:r,events:o}=t;return r.delete(e),o.pipe((0,g.U)(()=>{}))}),(0,h.P)())}clear(){return this.transaction("readwrite").pipe((0,f.z)(e=>{const{store:t,events:r}=e;return t.clear(),r.pipe((0,g.U)(()=>{}))}),(0,h.P)())}keys(){return this.transaction("readonly").pipe((0,h.P)(),(0,f.z)(e=>{const{store:t}=e,r=t.openKeyCursor(),o=(0,v.R)(r,"success").pipe(function Z(n,i=!1){return(0,Q.e)((s,e)=>{let t=0;s.subscribe((0,O.x)(e,r=>{const o=n(r,t++);(o||i)&&e.next(r),!o&&e.complete()}))})}(()=>null!==r.result),(0,g.U)(()=>r.result.key.toString()),(0,I.b)(()=>{r.result.continue()}));return x([o,this.listenError(r)])}))}has(e){return this.transaction("readonly").pipe((0,f.z)(t=>{const{store:r,events:o}=t,a=r.getKey(e);return o.pipe((0,g.U)(()=>void 0!==a.result))}),(0,h.P)())}connect(){let e;try{e=indexedDB.open(this.dbName,this.dbVersion)}catch{return void this.database.error(new P)}this.createStore(e),x([(0,v.R)(e,"success"),this.listenError(e)]).pipe((0,h.P)()).subscribe({next:()=>{this.database.next(e.result)},error:()=>{this.database.error(new P)}})}createStore(e){(0,v.R)(e,"upgradeneeded").pipe((0,h.P)()).subscribe({next:()=>{e.result.objectStoreNames.contains(this.storeName)||e.result.createObjectStore(this.storeName)}})}transaction(e){return this.database.pipe((0,f.z)(t=>{let r;try{r=t.transaction([this.storeName],e)}catch(p){return(0,d._)(()=>p)}const o=r.objectStore(this.storeName),a=this.listenTransactionEvents(r);return(0,c.of)({store:o,events:a})}))}listenError(e){return(0,v.R)(e,"error").pipe((0,f.z)(t=>(0,d._)(()=>{var r;return null===(r=t.target)||void 0===r?void 0:r.error})))}listenTransactionEvents(e){return x([(0,v.R)(e,"complete"),this.listenError(e)])}}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})(),m=(()=>{var n;class i{constructor(){this.prefix=(0,u.f3M)(z)||""}get size(){return(0,c.of)(localStorage.length)}get(e){const t=localStorage.getItem(this.prefixKey(e));let r;if(null!==t)try{r=JSON.parse(t)}catch(o){return(0,d._)(()=>o)}return(0,c.of)(r)}set(e,t){let r=null;const o=Object.getPrototypeOf(t);if("object"==typeof t&&null!==t&&!Array.isArray(t)&&o!==Object.prototype&&null!==o)return(0,d._)(()=>new te);try{r=JSON.stringify(t)}catch(a){return(0,d._)(()=>a)}try{localStorage.setItem(this.prefixKey(e),r)}catch(a){return(0,d._)(()=>a)}return(0,c.of)(void 0)}delete(e){return localStorage.removeItem(this.prefixKey(e)),(0,c.of)(void 0)}clear(){return localStorage.clear(),(0,c.of)(void 0)}keys(){return new E.y(e=>{for(let t=0;t<localStorage.length;t+=1)e.next(this.getUnprefixedKey(t));e.complete()}).pipe((0,H.Q)(X))}has(e){for(let t=0;t<localStorage.length;t+=1)if(e===this.getUnprefixedKey(t))return(0,c.of)(!0);return(0,c.of)(!1)}getUnprefixedKey(e){const t=localStorage.key(e);return null!==t?this.prefix?t.substring(this.prefix.length):t:null}prefixKey(e){return`${this.prefix}${e}`}}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})(),D=(()=>{var n;class i{constructor(){this.memoryStorage=new Map}get size(){return(0,c.of)(this.memoryStorage.size)}get(e){return(0,c.of)(this.memoryStorage.get(e))}set(e,t){return this.memoryStorage.set(e,t),(0,c.of)(void 0)}delete(e){return this.memoryStorage.delete(e),(0,c.of)(void 0)}clear(){return this.memoryStorage.clear(),(0,c.of)(void 0)}keys(){return(0,G.D)(this.memoryStorage.keys())}has(e){return(0,c.of)(this.memoryStorage.has(e))}}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})(),T=(()=>{var n;class i{validate(e,t){switch(t.type){case"string":return this.validateString(e,t);case"number":case"integer":return this.validateNumber(e,t);case"boolean":return this.validateBoolean(e,t);case"array":return this.validateArray(e,t);case"object":return this.validateObject(e,t)}}validateString(e,t){if("string"!=typeof e||!this.validateConst(e,t)||!this.validateEnum(e,t)||void 0!==t.maxLength&&e.length>t.maxLength||void 0!==t.minLength&&e.length<t.minLength)return!1;if(t.pattern){let r=null;try{r=new RegExp(t.pattern)}catch{}if(r&&!r.test(e))return!1}return!0}validateNumber(e,t){return!("number"!=typeof e||"integer"===t.type&&!Number.isInteger(e)||!this.validateConst(e,t)||!this.validateEnum(e,t)||t.multipleOf&&!Number.isInteger(e/t.multipleOf)||void 0!==t.maximum&&e>t.maximum||void 0!==t.exclusiveMaximum&&e>=t.exclusiveMaximum||void 0!==t.minimum&&e<t.minimum||void 0!==t.exclusiveMinimum&&e<=t.exclusiveMinimum)}validateBoolean(e,t){return!("boolean"!=typeof e||!this.validateConst(e,t))}validateArray(e,t){if(!Array.isArray(e)||void 0!==t.maxItems&&e.length>t.maxItems||void 0!==t.minItems&&e.length<t.minItems)return!1;if(t.uniqueItems){const r=new Set(e);if(e.length!==r.size)return!1}if(Array.isArray(t.items)||void 0===t.items)return this.validateTuple(e,t.items);for(const r of e)if(!this.validate(r,t.items))return!1;return!0}validateTuple(e,t){if(e.length!==(t?t.length:0))return!1;if(t)for(let o=0;o<t.length;o+=1)if(!this.validate(e[o],t[o]))return!1;return!0}validateObject(e,t){if("object"!=typeof e||null===e||Object.keys(t.properties).length<Object.keys(e).length)return!1;if(t.required)for(const r of t.required)if(!Object.prototype.hasOwnProperty.call(e,r))return!1;for(const r in t.properties)if(Object.prototype.hasOwnProperty.call(t.properties,r)&&Object.prototype.hasOwnProperty.call(e,r)&&!this.validate(e[r],t.properties[r]))return!1;return!0}validateConst(e,t){return!t.const||e===t.const}validateEnum(e,t){return!t.enum||t.enum.includes(e)}}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})(),ue=(()=>{var n;class i{}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:()=>function le(){const n=(0,u.f3M)(u.Lbi);try{if((0,M.NF)(n)&&void 0!==indexedDB&&null!==indexedDB&&"open"in indexedDB)return new B;if((0,M.NF)(n)&&void 0!==localStorage&&null!==localStorage&&"getItem"in localStorage)return new m}catch{}return new D}(),providedIn:"root"}),i})(),ce=(()=>{var n;class i{constructor(e,t=new T){this.database=e,this.jsonValidator=t,this.notifiers=new Map}get size(){return this.database.size.pipe(this.catchIDBBroken(()=>this.database.size))}get backingEngine(){return this.database instanceof B?"indexedDB":this.database instanceof m?"localStorage":this.database instanceof D?"memory":"unknown"}get backingStore(){return this.database instanceof B?this.database.backingStore:{database:"",store:"",version:0}}get fallbackBackingStore(){return this.database instanceof m?{prefix:this.database.prefix}:{prefix:""}}get(e,t){return this.database.get(e).pipe(this.catchIDBBroken(()=>this.database.get(e)),(0,f.z)(r=>null==r?(0,c.of)(void 0):t?this.jsonValidator.validate(r,t)?(0,c.of)(r):(0,d._)(()=>new k):(0,c.of)(r)))}set(e,t,r){return null==t?this.delete(e):r&&!this.jsonValidator.validate(t,r)?(0,d._)(()=>new k):this.database.set(e,t).pipe(this.catchIDBBroken(()=>this.database.set(e,t)),(0,I.b)(()=>{this.notify(e,t)}))}delete(e){return this.database.delete(e).pipe(this.catchIDBBroken(()=>this.database.delete(e)),(0,I.b)(()=>{this.notify(e,void 0)}))}clear(){return this.database.clear().pipe(this.catchIDBBroken(()=>this.database.clear()),(0,I.b)(()=>{for(const e of this.notifiers.keys())this.notify(e,void 0)}))}keys(){return this.database.keys().pipe(this.catchIDBBroken(()=>this.database.keys()))}has(e){return this.database.has(e).pipe(this.catchIDBBroken(()=>this.database.has(e)))}watch(e,t){this.notifiers.has(e)||this.notifiers.set(e,new w(1));const r=this.notifiers.get(e);return(t?this.get(e,t):this.get(e)).subscribe({next:o=>{r.next(o)},error:o=>{r.error(o)}}),r.asObservable()}notify(e,t){const r=this.notifiers.get(e);r&&r.next(t)}catchIDBBroken(e){return(0,q.K)(t=>{if(null!=t&&"object"==typeof t&&"message"in t&&t.message===A){try{this.database="getItem"in localStorage?new m:new D}catch{this.database=new D}return e()}return(0,d._)(()=>t)})}}return(n=i).\u0275fac=function(e){return new(e||n)(u.LFG(ue),u.LFG(T))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})()}}]);