{"ast":null,"code":"import _asyncToGenerator from \"/Users/daoduchuy/Learning Ionic/LoginCarmdDemo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Hls from 'hls.js';\nexport class VideoPlayer {\n  constructor(mode, url, playerId, rate, exitOnEnd, loopOnEnd, container, zIndex, width, height) {\n    this.pipMode = false;\n    this._videoType = null;\n    this._videoContainer = null;\n    this._firstReadyToPlay = true;\n    this._isEnded = false;\n    this._videoRate = 1.0;\n    this._videoExitOnEnd = true;\n    this._videoLoopOnEnd = false;\n    this._url = url;\n    this._container = container;\n    this._mode = mode;\n    this._width = width ? width : 320;\n    this._height = height ? height : 180;\n    this._mode = mode;\n    this._videoRate = rate;\n    this._zIndex = zIndex ? zIndex : 1;\n    this._playerId = playerId;\n    this._videoExitOnEnd = exitOnEnd;\n    this._videoLoopOnEnd = loopOnEnd;\n  }\n  initialize() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      // get the video type\n      const retB = _this._getVideoType();\n      if (retB) {\n        // style the container\n        if (_this._mode === 'fullscreen') {\n          _this._container.style.position = 'absolute';\n          _this._container.style.width = '100vw';\n          _this._container.style.height = '100vh';\n        }\n        if (_this._mode === 'embedded') {\n          _this._container.style.position = 'relative';\n          _this._container.style.width = _this._width.toString() + 'px';\n          _this._container.style.height = _this._height.toString() + 'px';\n        }\n        _this._container.style.left = '0';\n        _this._container.style.top = '0';\n        _this._container.style.display = 'flex';\n        _this._container.style.alignItems = 'center';\n        _this._container.style.justifyContent = 'center';\n        _this._container.style.backgroundColor = '#000000';\n        _this._container.style.zIndex = _this._zIndex.toString();\n        const width = _this._mode === 'fullscreen' ? window.innerWidth /*this._container.offsetWidth*/ : _this._width;\n        const height = _this._mode === 'fullscreen' ? window.innerHeight /*this._container.offsetHeight*/ : _this._height;\n        const xmlns = 'http://www.w3.org/2000/svg';\n        const svg = document.createElementNS(xmlns, 'svg');\n        svg.setAttributeNS(null, 'width', width.toString());\n        svg.setAttributeNS(null, 'height', height.toString());\n        const viewbox = '0 0 ' + width.toString() + ' ' + height.toString();\n        svg.setAttributeNS(null, 'viewBox', viewbox);\n        svg.style.zIndex = (_this._zIndex + 1).toString();\n        const rect = document.createElementNS(xmlns, 'rect');\n        rect.setAttributeNS(null, 'x', '0');\n        rect.setAttributeNS(null, 'y', '0');\n        rect.setAttributeNS(null, 'width', width.toString());\n        rect.setAttributeNS(null, 'height', height.toString());\n        rect.setAttributeNS(null, 'fill', '#000000');\n        svg.appendChild(rect);\n        _this._container.appendChild(svg);\n        const heightVideo = width * _this._height / _this._width;\n        _this._videoContainer = document.createElement('div');\n        _this._videoContainer.style.position = 'absolute';\n        _this._videoContainer.style.left = '0';\n        _this._videoContainer.style.width = width.toString() + 'px';\n        _this._videoContainer.style.height = heightVideo.toString() + 'px';\n        _this._videoContainer.style.zIndex = (_this._zIndex + 2).toString();\n        _this._container.appendChild(_this._videoContainer);\n        /*   Create Video Element */\n        const isCreated = yield _this.createVideoElement(width, heightVideo);\n        if (!isCreated) {\n          _this._createEvent('Exit', _this._playerId, 'Video Error: failed to create the Video Element');\n        }\n      } else {\n        _this._createEvent('Exit', _this._playerId, 'Url Error: type not supported');\n      }\n      return;\n    })();\n  }\n  createVideoElement(width, height) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.videoEl = document.createElement('video');\n      _this2.videoEl.controls = true;\n      _this2.videoEl.style.zIndex = (_this2._zIndex + 3).toString();\n      _this2.videoEl.style.width = `${width.toString()}px`;\n      _this2.videoEl.style.height = `${height.toString()}px`;\n      _this2.videoEl.playbackRate = _this2._videoRate;\n      _this2._videoContainer.appendChild(_this2.videoEl);\n      // set the player\n      const isSet = yield _this2._setPlayer();\n      if (isSet) {\n        _this2.videoEl.onended = /*#__PURE__*/_asyncToGenerator(function* () {\n          _this2._isEnded = true;\n          _this2.isPlaying = false;\n          if (_this2.videoEl) {\n            _this2.videoEl.currentTime = 0;\n          }\n          if (_this2._videoExitOnEnd) {\n            if (_this2._mode === 'fullscreen') {\n              _this2._closeFullscreen();\n            }\n            _this2._createEvent('Ended', _this2._playerId);\n          } else {\n            if (_this2._videoLoopOnEnd && _this2.videoEl != null) {\n              yield _this2.videoEl.play();\n            }\n          }\n        });\n        _this2.videoEl.oncanplay = /*#__PURE__*/_asyncToGenerator(function* () {\n          if (_this2._firstReadyToPlay) {\n            _this2._createEvent('Ready', _this2._playerId);\n            if (_this2.videoEl != null) {\n              _this2.videoEl.muted = false;\n              if (_this2._mode === 'fullscreen') yield _this2.videoEl.play();\n              _this2._firstReadyToPlay = false;\n            }\n          }\n        });\n        _this2.videoEl.onplay = () => {\n          _this2.isPlaying = true;\n          if (_this2._firstReadyToPlay) _this2._firstReadyToPlay = false;\n          _this2._createEvent('Play', _this2._playerId);\n        };\n        _this2.videoEl.onplaying = () => {\n          _this2._createEvent('Playing', _this2._playerId);\n        };\n        _this2.videoEl.onpause = () => {\n          _this2.isPlaying = false;\n          _this2._createEvent('Pause', _this2._playerId);\n        };\n        if (_this2._mode === 'fullscreen') {\n          // create the video player exit button\n          const exitEl = document.createElement('button');\n          exitEl.textContent = 'X';\n          exitEl.style.position = 'absolute';\n          exitEl.style.left = '1%';\n          exitEl.style.top = '5%';\n          exitEl.style.width = '5vmin';\n          exitEl.style.padding = '0.5%';\n          exitEl.style.fontSize = '1.2rem';\n          exitEl.style.background = 'rgba(51,51,51,.4)';\n          exitEl.style.color = '#fff';\n          exitEl.style.visibility = 'hidden';\n          exitEl.style.zIndex = (_this2._zIndex + 4).toString();\n          exitEl.style.border = '1px solid rgba(51,51,51,.4)';\n          exitEl.style.borderRadius = '20px';\n          _this2._videoContainer.onclick = /*#__PURE__*/_asyncToGenerator(function* () {\n            _this2._initial = yield _this2._doHide(exitEl, 3000);\n          });\n          _this2._videoContainer.ontouchstart = /*#__PURE__*/_asyncToGenerator(function* () {\n            _this2._initial = yield _this2._doHide(exitEl, 3000);\n          });\n          _this2._videoContainer.onmousemove = /*#__PURE__*/_asyncToGenerator(function* () {\n            _this2._initial = yield _this2._doHide(exitEl, 3000);\n          });\n          exitEl.onclick = () => {\n            _this2._createEvent('Exit', _this2._playerId);\n          };\n          exitEl.ontouchstart = () => {\n            _this2._createEvent('Exit', _this2._playerId);\n          };\n          _this2._videoContainer.appendChild(exitEl);\n          _this2._initial = yield _this2._doHide(exitEl, 3000);\n          _this2._goFullscreen();\n        }\n      }\n      return isSet;\n    })();\n  }\n  _goFullscreen() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (_this3._container.mozRequestFullScreen) {\n        /* Firefox */\n        _this3._container.mozRequestFullScreen();\n      } else if (_this3._container.webkitRequestFullscreen) {\n        /* Chrome, Safari & Opera */\n        _this3._container.webkitRequestFullscreen();\n      } else if (_this3._container.msRequestFullscreen) {\n        /* IE/Edge */\n        _this3._container.msRequestFullscreen();\n      } else if (_this3._container.requestFullscreen) {\n        _this3._container.requestFullscreen();\n      }\n      return;\n    })();\n  }\n  _setPlayer() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      return new Promise(resolve => {\n        if (_this4.videoEl != null) {\n          if (Hls.isSupported() && _this4._videoType === 'application/x-mpegURL') {\n            const hls = new Hls();\n            hls.loadSource(_this4._url);\n            hls.attachMedia(_this4.videoEl);\n            hls.on(Hls.Events.MANIFEST_PARSED, () => {\n              if (_this4.videoEl != null) {\n                _this4.videoEl.muted = true;\n                _this4.videoEl.crossOrigin = 'anonymous';\n                resolve(true);\n              } else {\n                resolve(false);\n              }\n            });\n          } else if (_this4._videoType === 'video/mp4') {\n            // CMAF (fMP4) && MP4\n            _this4.videoEl.src = _this4._url;\n            if (_this4._url.substring(0, 5) != 'https' && _this4._url.substring(0, 4) === 'http') _this4.videoEl.crossOrigin = 'anonymous';\n            if (_this4._url.substring(0, 5) === 'https' || _this4._url.substring(0, 4) === 'http') _this4.videoEl.muted = true;\n            resolve(true);\n          } else {\n            // Not Supported\n            resolve(false);\n          }\n          _this4.videoEl.addEventListener('enterpictureinpicture', event => {\n            _this4.pipWindow = event.pictureInPictureWindow;\n            _this4.pipMode = true;\n            _this4._closeFullscreen();\n          });\n          _this4.videoEl.addEventListener('leavepictureinpicture', () => {\n            _this4.pipMode = false;\n            if (!_this4._isEnded) {\n              _this4._goFullscreen();\n              if (_this4.videoEl != null) _this4.videoEl.play();\n            }\n          });\n        } else {\n          resolve(false);\n        }\n      });\n    })();\n  }\n  _getVideoType() {\n    let ret = false;\n    let vType = '';\n    const sUrl = this._url ? this._url : '';\n    if (sUrl != null && sUrl.length > 0) {\n      try {\n        const val = sUrl.substring(sUrl.lastIndexOf('/')).match(/(.*)\\.(.*)/);\n        if (val == null) {\n          vType = '';\n        } else {\n          const a = sUrl.match(/(.*)\\.(.*)/);\n          vType = a != null ? a[2].split('?')[0] : '';\n        }\n        switch (vType) {\n          case 'mp4':\n          case '':\n          case 'webm':\n          case 'cmaf':\n          case 'cmfv':\n          case 'cmfa':\n            {\n              this._videoType = 'video/mp4';\n              break;\n            }\n          case 'm3u8':\n            {\n              this._videoType = 'application/x-mpegURL';\n              break;\n            }\n          /*\n                  case \"mpd\" : {\n                  this._videoType = \"application/dash+xml\";\n                  break;\n                  }\n          */\n          /*\n                  case \"youtube\" : {\n                  this._videoType = \"video/youtube\";\n                  break;\n                  }\n          */\n          default:\n            {\n              this._videoType = null;\n              break;\n            }\n        }\n        ret = true;\n      } catch (_a) {\n        ret = false;\n      }\n    }\n    return ret;\n  }\n  _doHide(exitEl, duration) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      clearTimeout(_this5._initial);\n      exitEl.style.visibility = 'visible';\n      const initial = setTimeout(() => {\n        exitEl.style.visibility = 'hidden';\n      }, duration);\n      return initial;\n    })();\n  }\n  _createEvent(ev, playerId, msg) {\n    const message = msg ? msg : null;\n    let event;\n    if (message != null) {\n      event = new CustomEvent(`videoPlayer${ev}`, {\n        detail: {\n          fromPlayerId: playerId,\n          message: message\n        }\n      });\n    } else {\n      const currentTime = this.videoEl ? this.videoEl.currentTime : 0;\n      event = new CustomEvent(`videoPlayer${ev}`, {\n        detail: {\n          fromPlayerId: playerId,\n          currentTime: currentTime\n        }\n      });\n    }\n    document.dispatchEvent(event);\n  }\n  _closeFullscreen() {\n    const mydoc = document;\n    const isInFullScreen = mydoc.fullscreenElement && mydoc.fullscreenElement !== null || mydoc.webkitFullscreenElement && mydoc.webkitFullscreenElement !== null || mydoc.mozFullScreenElement && mydoc.mozFullScreenElement !== null || mydoc.msFullscreenElement && mydoc.msFullscreenElement !== null;\n    if (isInFullScreen) {\n      if (mydoc.mozCancelFullScreen) {\n        mydoc.mozCancelFullScreen();\n      } else if (mydoc.webkitExitFullscreen) {\n        mydoc.webkitExitFullscreen();\n      } else if (mydoc.msExitFullscreen) {\n        mydoc.msExitFullscreen();\n      } else if (mydoc.exitFullscreen) {\n        mydoc.exitFullscreen();\n      }\n    }\n  }\n}","map":{"version":3,"names":["Hls","VideoPlayer","constructor","mode","url","playerId","rate","exitOnEnd","loopOnEnd","container","zIndex","width","height","pipMode","_videoType","_videoContainer","_firstReadyToPlay","_isEnded","_videoRate","_videoExitOnEnd","_videoLoopOnEnd","_url","_container","_mode","_width","_height","_zIndex","_playerId","initialize","_this","_asyncToGenerator","retB","_getVideoType","style","position","toString","left","top","display","alignItems","justifyContent","backgroundColor","window","innerWidth","innerHeight","xmlns","svg","document","createElementNS","setAttributeNS","viewbox","rect","appendChild","heightVideo","createElement","isCreated","createVideoElement","_createEvent","_this2","videoEl","controls","playbackRate","isSet","_setPlayer","onended","isPlaying","currentTime","_closeFullscreen","play","oncanplay","muted","onplay","onplaying","onpause","exitEl","textContent","padding","fontSize","background","color","visibility","border","borderRadius","onclick","_initial","_doHide","ontouchstart","onmousemove","_goFullscreen","_this3","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","requestFullscreen","_this4","Promise","resolve","isSupported","hls","loadSource","attachMedia","on","Events","MANIFEST_PARSED","crossOrigin","src","substring","addEventListener","event","pipWindow","pictureInPictureWindow","ret","vType","sUrl","length","val","lastIndexOf","match","a","split","_a","duration","_this5","clearTimeout","initial","setTimeout","ev","msg","message","CustomEvent","detail","fromPlayerId","dispatchEvent","mydoc","isInFullScreen","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","exitFullscreen"],"sources":["/Users/daoduchuy/Learning Ionic/LoginCarmdDemo/node_modules/capacitor-video-player/dist/esm/web-utils/videoplayer.js"],"sourcesContent":["import Hls from 'hls.js';\nexport class VideoPlayer {\n    constructor(mode, url, playerId, rate, exitOnEnd, loopOnEnd, container, zIndex, width, height) {\n        this.pipMode = false;\n        this._videoType = null;\n        this._videoContainer = null;\n        this._firstReadyToPlay = true;\n        this._isEnded = false;\n        this._videoRate = 1.0;\n        this._videoExitOnEnd = true;\n        this._videoLoopOnEnd = false;\n        this._url = url;\n        this._container = container;\n        this._mode = mode;\n        this._width = width ? width : 320;\n        this._height = height ? height : 180;\n        this._mode = mode;\n        this._videoRate = rate;\n        this._zIndex = zIndex ? zIndex : 1;\n        this._playerId = playerId;\n        this._videoExitOnEnd = exitOnEnd;\n        this._videoLoopOnEnd = loopOnEnd;\n    }\n    async initialize() {\n        // get the video type\n        const retB = this._getVideoType();\n        if (retB) {\n            // style the container\n            if (this._mode === 'fullscreen') {\n                this._container.style.position = 'absolute';\n                this._container.style.width = '100vw';\n                this._container.style.height = '100vh';\n            }\n            if (this._mode === 'embedded') {\n                this._container.style.position = 'relative';\n                this._container.style.width = this._width.toString() + 'px';\n                this._container.style.height = this._height.toString() + 'px';\n            }\n            this._container.style.left = '0';\n            this._container.style.top = '0';\n            this._container.style.display = 'flex';\n            this._container.style.alignItems = 'center';\n            this._container.style.justifyContent = 'center';\n            this._container.style.backgroundColor = '#000000';\n            this._container.style.zIndex = this._zIndex.toString();\n            const width = this._mode === 'fullscreen'\n                ? window.innerWidth /*this._container.offsetWidth*/\n                : this._width;\n            const height = this._mode === 'fullscreen'\n                ? window.innerHeight /*this._container.offsetHeight*/\n                : this._height;\n            const xmlns = 'http://www.w3.org/2000/svg';\n            const svg = document.createElementNS(xmlns, 'svg');\n            svg.setAttributeNS(null, 'width', width.toString());\n            svg.setAttributeNS(null, 'height', height.toString());\n            const viewbox = '0 0 ' + width.toString() + ' ' + height.toString();\n            svg.setAttributeNS(null, 'viewBox', viewbox);\n            svg.style.zIndex = (this._zIndex + 1).toString();\n            const rect = document.createElementNS(xmlns, 'rect');\n            rect.setAttributeNS(null, 'x', '0');\n            rect.setAttributeNS(null, 'y', '0');\n            rect.setAttributeNS(null, 'width', width.toString());\n            rect.setAttributeNS(null, 'height', height.toString());\n            rect.setAttributeNS(null, 'fill', '#000000');\n            svg.appendChild(rect);\n            this._container.appendChild(svg);\n            const heightVideo = (width * this._height) / this._width;\n            this._videoContainer = document.createElement('div');\n            this._videoContainer.style.position = 'absolute';\n            this._videoContainer.style.left = '0';\n            this._videoContainer.style.width = width.toString() + 'px';\n            this._videoContainer.style.height = heightVideo.toString() + 'px';\n            this._videoContainer.style.zIndex = (this._zIndex + 2).toString();\n            this._container.appendChild(this._videoContainer);\n            /*   Create Video Element */\n            const isCreated = await this.createVideoElement(width, heightVideo);\n            if (!isCreated) {\n                this._createEvent('Exit', this._playerId, 'Video Error: failed to create the Video Element');\n            }\n        }\n        else {\n            this._createEvent('Exit', this._playerId, 'Url Error: type not supported');\n        }\n        return;\n    }\n    async createVideoElement(width, height) {\n        this.videoEl = document.createElement('video');\n        this.videoEl.controls = true;\n        this.videoEl.style.zIndex = (this._zIndex + 3).toString();\n        this.videoEl.style.width = `${width.toString()}px`;\n        this.videoEl.style.height = `${height.toString()}px`;\n        this.videoEl.playbackRate = this._videoRate;\n        this._videoContainer.appendChild(this.videoEl);\n        // set the player\n        const isSet = await this._setPlayer();\n        if (isSet) {\n            this.videoEl.onended = async () => {\n                this._isEnded = true;\n                this.isPlaying = false;\n                if (this.videoEl) {\n                    this.videoEl.currentTime = 0;\n                }\n                if (this._videoExitOnEnd) {\n                    if (this._mode === 'fullscreen') {\n                        this._closeFullscreen();\n                    }\n                    this._createEvent('Ended', this._playerId);\n                }\n                else {\n                    if (this._videoLoopOnEnd && this.videoEl != null) {\n                        await this.videoEl.play();\n                    }\n                }\n            };\n            this.videoEl.oncanplay = async () => {\n                if (this._firstReadyToPlay) {\n                    this._createEvent('Ready', this._playerId);\n                    if (this.videoEl != null) {\n                        this.videoEl.muted = false;\n                        if (this._mode === 'fullscreen')\n                            await this.videoEl.play();\n                        this._firstReadyToPlay = false;\n                    }\n                }\n            };\n            this.videoEl.onplay = () => {\n                this.isPlaying = true;\n                if (this._firstReadyToPlay)\n                    this._firstReadyToPlay = false;\n                this._createEvent('Play', this._playerId);\n            };\n            this.videoEl.onplaying = () => {\n                this._createEvent('Playing', this._playerId);\n            };\n            this.videoEl.onpause = () => {\n                this.isPlaying = false;\n                this._createEvent('Pause', this._playerId);\n            };\n            if (this._mode === 'fullscreen') {\n                // create the video player exit button\n                const exitEl = document.createElement('button');\n                exitEl.textContent = 'X';\n                exitEl.style.position = 'absolute';\n                exitEl.style.left = '1%';\n                exitEl.style.top = '5%';\n                exitEl.style.width = '5vmin';\n                exitEl.style.padding = '0.5%';\n                exitEl.style.fontSize = '1.2rem';\n                exitEl.style.background = 'rgba(51,51,51,.4)';\n                exitEl.style.color = '#fff';\n                exitEl.style.visibility = 'hidden';\n                exitEl.style.zIndex = (this._zIndex + 4).toString();\n                exitEl.style.border = '1px solid rgba(51,51,51,.4)';\n                exitEl.style.borderRadius = '20px';\n                this._videoContainer.onclick = async () => {\n                    this._initial = await this._doHide(exitEl, 3000);\n                };\n                this._videoContainer.ontouchstart = async () => {\n                    this._initial = await this._doHide(exitEl, 3000);\n                };\n                this._videoContainer.onmousemove = async () => {\n                    this._initial = await this._doHide(exitEl, 3000);\n                };\n                exitEl.onclick = () => {\n                    this._createEvent('Exit', this._playerId);\n                };\n                exitEl.ontouchstart = () => {\n                    this._createEvent('Exit', this._playerId);\n                };\n                this._videoContainer.appendChild(exitEl);\n                this._initial = await this._doHide(exitEl, 3000);\n                this._goFullscreen();\n            }\n        }\n        return isSet;\n    }\n    async _goFullscreen() {\n        if (this._container.mozRequestFullScreen) {\n            /* Firefox */\n            this._container.mozRequestFullScreen();\n        }\n        else if (this._container.webkitRequestFullscreen) {\n            /* Chrome, Safari & Opera */\n            this._container.webkitRequestFullscreen();\n        }\n        else if (this._container.msRequestFullscreen) {\n            /* IE/Edge */\n            this._container.msRequestFullscreen();\n        }\n        else if (this._container.requestFullscreen) {\n            this._container.requestFullscreen();\n        }\n        return;\n    }\n    async _setPlayer() {\n        return new Promise(resolve => {\n            if (this.videoEl != null) {\n                if (Hls.isSupported() && this._videoType === 'application/x-mpegURL') {\n                    const hls = new Hls();\n                    hls.loadSource(this._url);\n                    hls.attachMedia(this.videoEl);\n                    hls.on(Hls.Events.MANIFEST_PARSED, () => {\n                        if (this.videoEl != null) {\n                            this.videoEl.muted = true;\n                            this.videoEl.crossOrigin = 'anonymous';\n                            resolve(true);\n                        }\n                        else {\n                            resolve(false);\n                        }\n                    });\n                }\n                else if (this._videoType === 'video/mp4') {\n                    // CMAF (fMP4) && MP4\n                    this.videoEl.src = this._url;\n                    if (this._url.substring(0, 5) != 'https' &&\n                        this._url.substring(0, 4) === 'http')\n                        this.videoEl.crossOrigin = 'anonymous';\n                    if (this._url.substring(0, 5) === 'https' ||\n                        this._url.substring(0, 4) === 'http')\n                        this.videoEl.muted = true;\n                    resolve(true);\n                }\n                else {\n                    // Not Supported\n                    resolve(false);\n                }\n                this.videoEl.addEventListener('enterpictureinpicture', (event) => {\n                    this.pipWindow = event.pictureInPictureWindow;\n                    this.pipMode = true;\n                    this._closeFullscreen();\n                });\n                this.videoEl.addEventListener('leavepictureinpicture', () => {\n                    this.pipMode = false;\n                    if (!this._isEnded) {\n                        this._goFullscreen();\n                        if (this.videoEl != null)\n                            this.videoEl.play();\n                    }\n                });\n            }\n            else {\n                resolve(false);\n            }\n        });\n    }\n    _getVideoType() {\n        let ret = false;\n        let vType = '';\n        const sUrl = this._url ? this._url : '';\n        if (sUrl != null && sUrl.length > 0) {\n            try {\n                const val = sUrl.substring(sUrl.lastIndexOf('/')).match(/(.*)\\.(.*)/);\n                if (val == null) {\n                    vType = '';\n                }\n                else {\n                    const a = sUrl.match(/(.*)\\.(.*)/);\n                    vType = a != null ? a[2].split('?')[0] : '';\n                }\n                switch (vType) {\n                    case 'mp4':\n                    case '':\n                    case 'webm':\n                    case 'cmaf':\n                    case 'cmfv':\n                    case 'cmfa': {\n                        this._videoType = 'video/mp4';\n                        break;\n                    }\n                    case 'm3u8': {\n                        this._videoType = 'application/x-mpegURL';\n                        break;\n                    }\n                    /*\n                            case \"mpd\" : {\n                            this._videoType = \"application/dash+xml\";\n                            break;\n                            }\n                    */\n                    /*\n                            case \"youtube\" : {\n                            this._videoType = \"video/youtube\";\n                            break;\n                            }\n                    */\n                    default: {\n                        this._videoType = null;\n                        break;\n                    }\n                }\n                ret = true;\n            }\n            catch (_a) {\n                ret = false;\n            }\n        }\n        return ret;\n    }\n    async _doHide(exitEl, duration) {\n        clearTimeout(this._initial);\n        exitEl.style.visibility = 'visible';\n        const initial = setTimeout(() => {\n            exitEl.style.visibility = 'hidden';\n        }, duration);\n        return initial;\n    }\n    _createEvent(ev, playerId, msg) {\n        const message = msg ? msg : null;\n        let event;\n        if (message != null) {\n            event = new CustomEvent(`videoPlayer${ev}`, {\n                detail: { fromPlayerId: playerId, message: message },\n            });\n        }\n        else {\n            const currentTime = this.videoEl ? this.videoEl.currentTime : 0;\n            event = new CustomEvent(`videoPlayer${ev}`, {\n                detail: { fromPlayerId: playerId, currentTime: currentTime },\n            });\n        }\n        document.dispatchEvent(event);\n    }\n    _closeFullscreen() {\n        const mydoc = document;\n        const isInFullScreen = (mydoc.fullscreenElement && mydoc.fullscreenElement !== null) ||\n            (mydoc.webkitFullscreenElement &&\n                mydoc.webkitFullscreenElement !== null) ||\n            (mydoc.mozFullScreenElement && mydoc.mozFullScreenElement !== null) ||\n            (mydoc.msFullscreenElement && mydoc.msFullscreenElement !== null);\n        if (isInFullScreen) {\n            if (mydoc.mozCancelFullScreen) {\n                mydoc.mozCancelFullScreen();\n            }\n            else if (mydoc.webkitExitFullscreen) {\n                mydoc.webkitExitFullscreen();\n            }\n            else if (mydoc.msExitFullscreen) {\n                mydoc.msExitFullscreen();\n            }\n            else if (mydoc.exitFullscreen) {\n                mydoc.exitFullscreen();\n            }\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}