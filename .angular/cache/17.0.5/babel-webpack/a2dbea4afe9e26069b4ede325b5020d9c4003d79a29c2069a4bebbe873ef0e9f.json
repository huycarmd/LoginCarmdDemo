{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nlet LoginPage = class LoginPage {\n  constructor(route, router, http) {\n    this.route = route;\n    this.router = router;\n    this.http = http;\n    // usersExample = {\n    //   \"id\": \"be3532e9-22e4-4414-b131-f40c33dfb4a5\",\n    //   \"firstName\": \"carmd\",\n    //   \"lastName\": \"test\",\n    //   \"emailAddress\": \"sds.carmd@yopmail.com\",\n    //   \"zipCode\": \"92614\",\n    //   \"address1\": \"123 carmd st\",\n    //   \"address2\": \"456 carmd st\",\n    //   \"city\": \"Irvine\",\n    //   \"state\": \"CA\",\n    //   \"imageUrl\": \"\",\n    //   \"language\": \"\",\n    //   \"token\": \"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiZTM1MzJlOS0yMmU0LTQ0MTQtYjEzMS1mNDBjMzNkZmI0YTUiLCJuYW1lIjoiY2QwNTg1MmUtOGU3MS00ZDUyLWFkYzEtZWY3M2ExYWQ1NzgxIiwiZXhwIjoxNzMzMjgwOTY4LCJpc3MiOiJodHRwczovL3d3dy5pbm5vdmEuY29tIiwiYXVkIjoiaHR0cHM6Ly9hcGktcHJvLnJlcGFpcnNvbHV0aW9ucy5jb20ifQ.pbWnoKhpSReLwpJ_mHyvE9THRYvCTtm9vuSRA9RZBJ4\",\n    //   \"message\": {\n    //       \"code\": 0,\n    //       \"description\": \"OK\"\n    //   }\n    // }\n    this.emailVal = '';\n    this.passwordVal = '';\n    this.isDisable = true;\n  }\n  Login() {\n    this.GetUser();\n  }\n  GetUser() {\n    // console.log(this.emailVal)\n    // console.log(this.passwordVal)\n    let headers = {\n      'Content-Type': 'application/json'\n    };\n    return this.http.post(environment.baseUrl, {\n      \"emailAddress\": this.emailVal,\n      \"password\": this.passwordVal\n    }, {\n      headers\n    }).toPromise().then(data => {\n      console.log(data);\n      if (data != null) {\n        let person = data;\n        let navigationExtra = {\n          queryParams: {\n            special: JSON.stringify(person)\n          }\n        };\n        this.router.navigate(['/home'], navigationExtra);\n      }\n    });\n  }\n};\nLoginPage = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss']\n})], LoginPage);\nexport { LoginPage };","map":{"version":3,"names":["Component","environment","LoginPage","constructor","route","router","http","emailVal","passwordVal","isDisable","Login","GetUser","headers","post","baseUrl","toPromise","then","data","console","log","person","navigationExtra","queryParams","special","JSON","stringify","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/daoduchuy/Learning Ionic/LoginCarmdDemo/src/app/login/login.page.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\nimport { IonInput } from '@ionic/angular';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage {\n  // usersExample = {\n  //   \"id\": \"be3532e9-22e4-4414-b131-f40c33dfb4a5\",\n  //   \"firstName\": \"carmd\",\n  //   \"lastName\": \"test\",\n  //   \"emailAddress\": \"sds.carmd@yopmail.com\",\n  //   \"zipCode\": \"92614\",\n  //   \"address1\": \"123 carmd st\",\n  //   \"address2\": \"456 carmd st\",\n  //   \"city\": \"Irvine\",\n  //   \"state\": \"CA\",\n  //   \"imageUrl\": \"\",\n  //   \"language\": \"\",\n  //   \"token\": \"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiZTM1MzJlOS0yMmU0LTQ0MTQtYjEzMS1mNDBjMzNkZmI0YTUiLCJuYW1lIjoiY2QwNTg1MmUtOGU3MS00ZDUyLWFkYzEtZWY3M2ExYWQ1NzgxIiwiZXhwIjoxNzMzMjgwOTY4LCJpc3MiOiJodHRwczovL3d3dy5pbm5vdmEuY29tIiwiYXVkIjoiaHR0cHM6Ly9hcGktcHJvLnJlcGFpcnNvbHV0aW9ucy5jb20ifQ.pbWnoKhpSReLwpJ_mHyvE9THRYvCTtm9vuSRA9RZBJ4\",\n  //   \"message\": {\n  //       \"code\": 0,\n  //       \"description\": \"OK\"\n  //   }\n  // }\n\n  emailVal = ''\n  passwordVal = ''\n  isDisable = true\n\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private http: HttpClient\n  ) {}\n\n  Login() {\n    this.GetUser()\n  }\n\n  GetUser() {\n    // console.log(this.emailVal)\n    // console.log(this.passwordVal)\n    let headers = { 'Content-Type': 'application/json' };\n    return this.http.post(\n      environment.baseUrl,\n      {\"emailAddress\": this.emailVal,\n      \"password\": this.passwordVal},\n      {headers}).toPromise().then((data: any) =>{\n        console.log(data)\n        if(data != null){\n          let person : Person = data\n          let navigationExtra : NavigationExtras = {\n            queryParams: {\n              special: JSON.stringify(person)\n            }\n          }\n          this.router.navigate(['/home'], navigationExtra);\n        }\n      })\n  }\n}\n\n\nexport interface Person {\n  id: string\n  firstName: string\n  lastName: string\n  emailAddress: string\n  zipCode: string\n  address1: string\n  address2: string\n  city: string\n  state: string\n  imageUrl: string\n  language: string\n  token: string\n  message: Message\n}\nexport interface Message {\n  code: number\n  description: string\n}\n"],"mappings":";AACA,SAASA,SAAS,QAA2B,eAAe;AAI5D,SAASC,WAAW,QAAQ,8BAA8B;AAOnD,IAAMC,SAAS,GAAf,MAAMA,SAAS;EAyBpBC,YACUC,KAAqB,EACrBC,MAAc,EACdC,IAAgB;IAFhB,KAAAF,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,IAAI,GAAJA,IAAI;IA3Bd;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA,KAAAC,QAAQ,GAAG,EAAE;IACb,KAAAC,WAAW,GAAG,EAAE;IAChB,KAAAC,SAAS,GAAG,IAAI;EAOb;EAEHC,KAAKA,CAAA;IACH,IAAI,CAACC,OAAO,EAAE;EAChB;EAEAA,OAAOA,CAAA;IACL;IACA;IACA,IAAIC,OAAO,GAAG;MAAE,cAAc,EAAE;IAAkB,CAAE;IACpD,OAAO,IAAI,CAACN,IAAI,CAACO,IAAI,CACnBZ,WAAW,CAACa,OAAO,EACnB;MAAC,cAAc,EAAE,IAAI,CAACP,QAAQ;MAC9B,UAAU,EAAE,IAAI,CAACC;IAAW,CAAC,EAC7B;MAACI;IAAO,CAAC,CAAC,CAACG,SAAS,EAAE,CAACC,IAAI,CAAEC,IAAS,IAAI;MACxCC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,IAAGA,IAAI,IAAI,IAAI,EAAC;QACd,IAAIG,MAAM,GAAYH,IAAI;QAC1B,IAAII,eAAe,GAAsB;UACvCC,WAAW,EAAE;YACXC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACL,MAAM;;SAEjC;QACD,IAAI,CAACf,MAAM,CAACqB,QAAQ,CAAC,CAAC,OAAO,CAAC,EAAEL,eAAe,CAAC;;IAEpD,CAAC,CAAC;EACN;CACD;AAxDYnB,SAAS,GAAAyB,UAAA,EALrB3B,SAAS,CAAC;EACT4B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,mBAAmB;EAChCC,SAAS,EAAE,CAAC,mBAAmB;CAChC,CAAC,C,EACW5B,SAAS,CAwDrB"},"metadata":{},"sourceType":"module","externalDependencies":[]}